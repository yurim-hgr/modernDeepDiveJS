# 10. 객체 리터럴

## 10.1 객체란?

**원시타입의 값은 변경 불가능한 값(immutable value), 객체 타입의 값은 변경 가능한 값(mutable value)**

객체는 0개 이상의 프로퍼티로 구성된 집합이며 프로퍼티는 key와 value로 구성된다.

프로퍼티의 값이 함수일 경우 일반 함수와 구분하기 위해 method라고 부른다.

프로퍼티 : 객체의 상태를 나타내는 값(data)

메서드 : 프로퍼티(상태 데이터)를 참조하고 조작할 수 있는 동작(behavior)

## 10.2 **객체 리터럴에 의한 객체 생성**

인스턴스(instance)

클래스에 의해 생성되어 메모리에 저장된 실체.

객체지향 프로그래밍에서 객체는 클래스와 인스턴스를 포함한 개념.

클래스는 인스턴스를 생성하기 위핸 템플릿의 역할을 함.

- 객체 생성 방법

객체 리터럴, Object 생성자 함수, 생성자 함수, Object.create 메서드, 클래스(ES6)

리터럴 : 사람이 이해 할수 있는 문자 또는 약속된 기호를 사용하여 값을 생성하는 표기법

객체 리터럴의 중괄호는 코드 블록을 의미하지 않는다. 값으로 평가되는 표현식이기 때문. 따라서 뒤에 세미콜론 붙음.

## 10.3 프로퍼티

프로퍼티 키 : 빈 문자열을 포함하는 모든 문자열 또는 심벌 값

프로퍼티 값 : 자바스크립트에서 사용할 수 있는 모든 값

식별자 네이밍 규칙을 따르지 않는 이름에는 반드시 따옴표를 사용해야한다.

## 10.4 메서드

함수는 값으로 취급할수있기 때문에 프로퍼티 값으로 사용가능

메서드 내부에서 사용한 this 키워드는 객체 자신을 가리키는 참조변수

10.5 프로 퍼티 접근

- 마침표 프로퍼티 접근 연산자(.)를 사용하는 마침표 표기법(dot notation)
- 대괄호 프로퍼티 접근 연산자([...])를 사용하는 대괄호 표기법(bracket notation)

대괄호 프로퍼티 접근 연산자 내부에 지정하는 프로퍼티 키는 반드시 따옴표로 감싼 문자열이어야 한다.

객체에 존재하지 않는 프로퍼티에 접근하면 undefined 반환.

10.6 프로퍼티 값 갱신

이미 존재하는 프로퍼티에 값을 할당하면 프로퍼티 값이 갱신된다.

10.7 프로퍼티 동적 생성

존재하지 않는 프로퍼티에 값을 할당하면 프로퍼티가 동적으로 생성되어 추가되고 프로퍼티 값이 할당된다.

## 10.8 프로퍼티 삭제

delete 연산자 활용

`delete person.age;`

## 10.9 ES6에서 추가된 객체 리터럴의 확장 기능

프로퍼티 값으로 변수를 사용하는 경우 변수 이름과 프로퍼티 키가 동일한 이름일 때 프로퍼티 키 생략 가능.

```
const obj = {x,y};
```

계산된 프로퍼티 이름ES6에서는 객체 리터럴 내부에서도 계산된 프로퍼티 이름으로 프로퍼티 키를 동적 생성 가능

```
const obj ={ [`${prefix}-${++i}`] : i,
[`${prefix}-${++i}`] : i};

```

메서드 축약 표현메서드 정의할 때 function 키워드를 생략한 축약 표현 사용 가능.

```
const obj = {
	sayHi(){ console.log('hi');};
```

# 11장 원시 값과 객체의 비교

### 원시 타입과 객체 타입 차이점 3가지

7가지 데이터 타입( 숫자, 문자열 , 불리언, null, undefined, 심벌, 객체타입)

- 원시 타입 :**변경 불가능한 값**, 객체 타입 :**변경 가능한 값**
- 원시 값을 변수에 할당하면 변수(확보된 메모리 공간)에는**실제 값이 저장**된다. 객체를 변수에 할당하면 변수(확보된 메모리 공간)에는**참조 값이 저장**
- 원시 값을 갖는 변수를 다른 변수에 할당하면 원본의 원시 값이 복사되어 전달된다. (**값에 의한 전달**) 객체를 가리키는 변수를 다른 변수에 할당하면 원본의 참조 값이 복사되어 전달된다.(**참조에 의한 전달**)

## 11.1 원시 값

### 11.1.1 변경 불가능한 값

원시타입의 값은 변경불가능한 값

“변수와 값은 구분해서 생각해야 한다. 변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름이고, 값은 변수에 저장된 데이터로서 표현식이 평가되어 생성된 결과를 말한다. 변경불가능하다는 것은 변수가 아니라 값에 대한 진술이다.

즉 원시값은 변경 불가능 하다는 말은 원시값 자체를 변경할 수 없다는 것이지 변수값을 변경할 수 없다는 것이 아니다. 변수는 언제든지 재할당을 통해 변수값을 변경 ( 엄밀히 말하자면 교체) 그렇기 때문에 변수라고 부른다.
변수의 상대개념인 상수는 재할당이 금지된 변수이며 상수와 변경불가능한 값을 동일시하면 곤란하다.

“

값의 특성인 불변성

변수 값을 변경하기 위해 원시 값을 재할당하면 새로운 메모리 공간을 확보하고 재할당한 값을 저장한 후, 변수가 참조하던 메모리 공간의 주소를 변경하는 것

불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.

만약 재할당 이외에 원시값인 변수값을 변경할 수 있다면 예기치 않게 변수 값이 변경될 수 있다는 것을 의미한다. 이는 상태변경을 추적하기 어렵게 만든다 ???

11.1.2 문자열과 불변성

문자열 타입 (2바이트) 숫자타입(8바이트)

문자열은 1문자에 2바이트 이다.

유사 배열 객체란

마치 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고 length 프로퍼티를 갖는 객체를 말함.

ex) 문자열은 마치 배열처럼 인덱스를 통해 각 문자에 접근할 수 있으며 length 프로퍼티를 갖기 때문에 유사 배열 객체이고 for문으로 순회할 수 도 있음

유사배열인 문자열과 실제 배열의 차이점?

유사배열인 문자열은 배열과 유사하게 인덱스를 사용해 각 문자에 접근할 수 있지만 문자열은 원시 값이므로 값을 변경할 수 없음. 참고로 이때 에러가 발생하지는 않음.

데이터의 신뢰성을 보장하기 위해서 원시값은 불변한다.

## 11.1.3 값에 의한 전달

변수에 원시 값을 갖는 변수를 할당하면 할당받는 변수에는 할당되는 변수의 원시 값의 메모리 주소를 전달하는 것.

전달된 메모리 주소를 통해 메모리 공간에 접근하면 값을 참조할 수 있다.

**참고로 복사된 변수와 원본 변수의 값은 다른 메모리 공간에 저장된 별개의 값이다.(p144)**

값에 의한 전달은 사실은 자바스크립트를 위한 용어는 아님. 좀 더 엄격하게 표현하면 **변수에는 값이 전달되는 것이 아니라 메모리 주소가 전달되기 때문. 이는 변수와 같은 식별자는 값이 아니라 메모리 주소를 기억하고 있기 때문!**

식별자 : 어떤 값을 구별해서 식별해 낼 수 있는 고유한 이름

두 변수의 원시 값은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 어느 한쪽 에서 재할당을 통해 값을 변경하더라도 서로 간섭할 수 없음!

11.2 객체

객체는 프로퍼티의 개수가 정해져 있지 않으며 동적으로 추가되고 삭제할수있다.

자바스크립트 엔진에서는 프로퍼티에 접근하기위해 동적탐색 대신 히든클래스라는 방식으로 사용해서 c++ 객체의 프로퍼티에 접근하는 정도의 성능을 보장한다.

참고 :
v8 히든클래스 이야기

자바스크립트엔진의 최적화 기법 (2)

11.2.1 변경가능한 값

객체(참조) 타입의 값, 즉 객체는 변경 가능한 값

참조값 :생성된 객체가 저장된 메모리 공간의 주소, 그 자체

객체를 할당한 변수는 재할당 없이 객체를 직접 변경 가능

즉 재할당 없이 프로퍼티를 동적으로 추가할수도 있고 프롤퍼티값을 갱신할수도 있으며 프로퍼티 자체를 삭제할 수도 있다.

→ 객체를 복사해서 생성하는 비용을 적약하여 메모리를 효율적으로 사용하기 위해

부작용 : 여러개의 식별자가 하나의 객체를 공유 할 수 있다.

**깊은복사와 얕은 복사**

얕은 복사?객체를 프로퍼티의 값으로 갖는 객체의 경우 얕은 복사는 한 단계까지만 복사하는 것

깊은 복사? 객체에 중첩되어 있는 객체까지 모두 복사하는 것.

참고로, 원본과 복사본은 참조 값이 다른 별개의 객체. 하지만 얕은 복사는 객체에 중첩되어 있는 객체의 경우 참조 값을 복사하고 깊은 복사는 완전한 복사본을 만든다는 차이가 있음.

🔖 원시 값을 할당한 변수를 다른 변수에 할당하는 것을 깊은 복사, 객체를 할당한 변수를 다른 변수에 할당하는 것을 얕은 복사라고 부르는 경우도 있음.

11.2.2 참조에 의한 전달

객체를 가리키는 변수를 다른 변수에 할당하면 원본의**참조 값이 복사되어 전달**되는 것이는 원본과 복사본이 하나의 객체를 공유한다는 것을 의미한다.

12장 함수

일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것

입력을 받아서 출력을 내보낸다.

- 매개변수 : 함수 내부로 입력을 전달받는 변수
- 인수 : 입력한 값
- 반환값 : 출력

함수는 함수 정의를 통해 생성

함수 선언문

함수 호출

미리 정의된 일련의 과정을 실행하기 위해 필요한 입력, 즉 인수(argument)를 매개변수를 통해 함수에 전달하면서 함수의 실행을 명시적으로 지시하는 것. 함수를 호출하면 코드 블록에 담긴 문들이 일괄적으로 실행되고, 실행결과 즉 반환값을 반환한다.

**12.2 함수를 사용하는 이유**

재사용 가능

→ 유지보수의 편의성을 높이고 코드의 신뢰성을 높인다

적절한 함수이름은 함수의 내부코드를 이해하지 않고도 함수의 역할을 파악할수있게 돕는다. 코드의 가독성을 향상시킨다.

12.3 함수리터럴

- 구성요소

function 키워드, 함수 이름, 매개 변수 목록, 함수 몸체

함수는 객체다

일반 객체는 호출할 수 없지만 함수는 호출할 수 있다. 그리고 일반 객체에는 함수 객체만의 고유한 프로퍼티를 갖는다.

12.4 함수 정의

함수 선언문, 함수 표현식, function 생성자 함수, 화살표 함수

??function 생성자 함수

`const add = new Function('x', 'y', 'return x+y');`

정의 : 변수에 값을 할당하여 변수의 실체를 명확히 하는 것

함수 선언문은 함수 이름을 생략할 수 없음. 함수 리터럴에서는 함수 이름 생략할 수 있음!

🔖 함수선언문은 표현식이 아닌 문이다.

### 중요키워드

1. 메서드
2. 값에 의한 전달
